---
import Container from "@components/Container.astro";
import Link from "@components/Link.astro";
import Icon from "@components/Icon.astro";
import { SITE, SOCIALS } from "@consts";

// Filter for only the specific header icons
const HEADER_SOCIALS = SOCIALS.filter(s =>
  ["GitHub", "LinkedIn", "Instagram"].includes(s.NAME)
);
---

<header transition:persist>
  <Container>
    <div class="flex flex-wrap justify-between gap-y-2">
      <Link href="/" underline={false}>
        <div class="font-semibold">{SITE.TITLE}</div>
      </Link>
      <nav class="flex items-center justify-end gap-1 text-sm">
        <Link href="/about/">About</Link>
        <span>{`/`}</span>

        {HEADER_SOCIALS.map((social) => (
          <a
            href={social.HREF}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={social.NAME}
            class="flex items-center hover:text-black/70 dark:hover:text-white/70 transition-colors"
          >
            <Icon name={social.NAME} class="h-3.5 w-3.5 fill-current" />
          </a>
        ))}

        <span>{`/`}</span>

        <button
          id="magnifying-glass"
          aria-label="Search"
          class="flex items-center rounded-sm border border-black/15 bg-neutral-100 px-2 py-1 text-xs transition-colors duration-300 ease-in-out hover:bg-black/5 hover:text-black focus-visible:bg-black/5 focus-visible:text-black dark:border-white/20 dark:bg-neutral-900 dark:hover:bg-white/5 dark:hover:text-white dark:focus-visible:bg-white/5 dark:focus-visible:text-white"
        >
          <Icon name="Search" class="h-4 w-4" />
          &nbsp;Search
        </button>
      </nav>
    </div>
  </Container>
</header>

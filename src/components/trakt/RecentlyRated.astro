---
import type { RatingItem } from "./types";

interface Props {
  items: RatingItem[];
}

const { items } = Astro.props;
---

<section class="animate space-y-4 pt-4 border-t border-black/10 dark:border-white/10">
  <h2 class="text-xs font-mono uppercase tracking-[0.3em] text-neutral-500 font-bold">Recent Watches</h2>
  <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-8">
    {items.map((item) => (
      <div class="space-y-3 group">
        <a href={item.href} target="_blank" class="block aspect-[2/3] w-full relative rounded-lg overflow-hidden bg-neutral-900 border border-black/5 dark:border-white/5 transition-transform hover:scale-[1.02]">
          <img src={item.poster} alt={item.title} class="absolute inset-0 h-full w-full object-cover block m-0 p-0" loading="lazy" />
          <div class="absolute bottom-2 right-2 flex items-center gap-1 bg-black/80 backdrop-blur-md px-2 py-1 rounded border border-white/10 z-10">
             <span class="text-[11px] font-bold text-white leading-none">{item.rating} <span class="text-orange-500 font-normal">â˜…</span></span>
          </div>
        </a>
        <div class="px-0.5 leading-tight">
          <p class="text-[14px] font-bold uppercase text-neutral-800 dark:text-neutral-200 leading-tight">{item.title}</p>
          <p class="text-[12px] font-mono text-neutral-500 mt-1">{item.year}</p>
        </div>
      </div>
    ))}
  </div>
</section>

---
interface Props {
  title: string;
  items: any[];
  limit: number;
  showArtist?: boolean;
}

const { title, items = [], limit, showArtist = false } = Astro.props;
---

<div>
  <h3 class="mb-3 text-sm font-bold tracking-wider text-neutral-500 uppercase">{title}</h3>
  <ul class="space-y-1">
    {
      items.slice(0, limit).map((item: any, i: number) => (
        <li class="group flex break-inside-avoid justify-between border-b border-neutral-100 pb-1 text-sm last:border-0 dark:border-neutral-800/50">
          <div class="flex min-w-0 items-center gap-2 truncate">
            <span class="w-4 shrink-0 text-right font-mono text-xs text-neutral-300">{i + 1}</span>
            <div class="truncate text-neutral-600 transition-colors group-hover:text-black dark:text-neutral-400 dark:group-hover:text-white">
              <a href={item.url} target="_blank" class="no-underline">
                {item.name}
              </a>
              {showArtist && <span class="ml-1 text-xs text-neutral-400">-{item.artist}</span>}
            </div>
          </div>
          <span class="ml-2 shrink-0 font-mono text-xs text-neutral-400 tabular-nums">
            {item.plays}
          </span>
        </li>
      ))
    }
  </ul>
</div>

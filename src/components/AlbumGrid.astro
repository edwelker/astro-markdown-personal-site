---
interface Props {
  items: any[];
  limit: number;
}

const { items = [], limit } = Astro.props;
---
<div>
  <h3 class="text-sm font-semibold text-neutral-500 uppercase tracking-wider mb-3">Top Albums</h3>
  <div class="grid grid-cols-2 sm:grid-cols-5 gap-y-8 gap-x-4">
     {items.slice(0, limit).map((album: any) => (
        <a href={album.url} target="_blank" class="group block space-y-2.5 relative no-underline" title={`${album.name} by ${album.artist}`}>
          <div class="aspect-square overflow-hidden rounded-md border border-neutral-200 dark:border-neutral-800 relative bg-neutral-50 dark:bg-neutral-900 shadow-sm">
            {album.image ? (
                <img src={album.image} alt={album.name} class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" loading="lazy" />
            ) : (
                <div class="w-full h-full flex items-center justify-center p-2 text-center">
                   <div class="w-1/2 h-1/2 rounded-full border-2 border-neutral-300 dark:border-neutral-600 flex items-center justify-center">
                      <div class="w-1/3 h-1/3 rounded-full bg-neutral-300 dark:bg-neutral-600"></div>
                  </div>
                </div>
            )}
          </div>
          <div class="min-w-0 space-y-0.5 px-0.5">
            <div class="flex justify-between items-start gap-2">
              <div class="text-xs font-semibold text-black dark:text-white truncate group-hover:text-neutral-600 dark:group-hover:text-neutral-300 transition-colors">
                {album.name}
              </div>
              <span class="text-[10px] font-mono text-neutral-400 shrink-0 tabular-nums">{album.plays}</span>
            </div>
            <div class="text-[11px] text-neutral-500 truncate leading-tight">{album.artist}</div>
          </div>
        </a>
      ))}
  </div>
</div>

---
import Container from "@components/Container.astro";
import Icon from "@components/Icon.astro";
import { SITE, SOCIALS } from "@consts";

// This will be calculated every time the site builds in GitHub Actions
const buildTime = new Date().toLocaleString('en-US', {
  month: 'short',
  day: 'numeric',
  year: 'numeric',
  hour: 'numeric',
  minute: '2-digit',
  timeZoneName: 'short'
});
---

<footer class="mt-auto py-12 border-t border-black/5 dark:border-white/5">
  <Container>
    <div class="flex flex-col items-center gap-8">

      {/* Social Icons */}
      <div class="flex flex-wrap justify-center gap-6">
        {SOCIALS.map((social) => (
          <a
            href={social.HREF}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={social.NAME}
            class="text-black/40 hover:text-black dark:text-white/40 dark:hover:text-white transition-colors"
          >
            <Icon name={social.NAME} class="h-5 w-5 fill-current" />
          </a>
        ))}
      </div>

      {/* Technical Metadata & API Links */}
      <div class="flex flex-col items-center gap-4">
        <div class="flex flex-col items-center gap-1">
          <div class="text-[10px] font-mono text-black/40 dark:text-white/40 uppercase tracking-[0.2em]">
            Built via GitHub Actions • {buildTime}
          </div>
          <a href="/api" class="text-[10px] font-mono text-orange-600/60 hover:text-orange-600 dark:text-orange-400/60 dark:hover:text-orange-400 uppercase tracking-[0.2em] transition-colors">
            View Site Architecture & API ↗
          </a>
        </div>

        <div class="flex gap-4">
          <a href="/data/music.json" class="text-[10px] font-mono text-black/30 hover:text-black dark:text-white/30 dark:hover:text-white transition-colors underline underline-offset-4 decoration-black/10">
            Music JSON
          </a>
          <a href="/data/flickr-photos.json" class="text-[10px] font-mono text-black/30 hover:text-black dark:text-white/30 dark:hover:text-white transition-colors underline underline-offset-4 decoration-black/10">
            Photo JSON
          </a>
        </div>
      </div>

      {/* Copyright */}
      <div class="text-[11px] text-black/30 dark:text-white/30 text-center uppercase tracking-widest pt-2">
        &copy; {new Date().getFullYear()} {SITE.TITLE}
      </div>

    </div>
  </Container>
</footer>

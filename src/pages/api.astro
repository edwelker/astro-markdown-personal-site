---
import Layout from "@layouts/Layout.astro";
import Container from "@components/Container.astro";
import BackToPrevious from "@components/BackToPrevious.astro";

const title = "API Endpoints";
const description = "Raw data feeds for photos, music, cycling, and media tracking.";

const lastUpdated = new Date().toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});

const endpoints = [
  { name: "Flickr Photos", url: "/data/flickr-photos.json", type: "JSON" },
  { name: "Music Stats", url: "/data/music.json", type: "JSON" },
  { name: "Cycling Stats", url: "/data/cycling.json", type: "JSON" },
  { name: "Trakt Media", url: "/data/trakt.json", type: "JSON" },
  { name: "Highlights JSON", url: "/data/highlights.json", type: "JSON" },
  { name: "Highlights XML", url: "/highlights.xml", type: "XML" },
  { name: "Site RSS Feed", url: "/rss.xml", type: "RSS" }
];
---

<Layout title={title} description={description}>
  <Container>
    <div class="animate">
      <div class="relative pt-12 pb-8">
        <BackToPrevious href="/" />
      </div>

      <header class="relative mb-12">
        <h1 class="text-3xl font-black tracking-tighter text-black dark:text-white uppercase leading-none">
          API Endpoints
        </h1>
        <div class="mt-4 space-y-4 max-w-lg text-neutral-500 text-sm leading-relaxed">
          <p>
            Public data endpoints powering the various sections of this site. Last documented on <span class="text-black dark:text-white font-mono font-bold">{lastUpdated}</span>.
          </p>
          <p>
            This is a static site generated at build time. During the build process, custom scripts pull data from various third-party services (Strava, Flickr, Last.fm, Trakt) and format it on the server side before posting.
          </p>
        </div>
      </header>

      <section class="space-y-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          {endpoints.map(endpoint => (
            <a href={endpoint.url} class="group block p-4 rounded-lg border border-black/10 dark:border-white/10 hover:border-black dark:hover:border-white transition-colors">
              <div class="flex justify-between items-center">
                <span class="text-sm font-bold uppercase tracking-tight text-neutral-800 dark:text-neutral-200">
                  {endpoint.name}
                </span>
                <span class="text-[10px] font-mono px-2 py-1 rounded bg-neutral-100 dark:bg-neutral-800 text-neutral-500">
                  {endpoint.type}
                </span>
              </div>
              <p class="text-[11px] font-mono text-neutral-400 mt-2 truncate">
                {endpoint.url}
              </p>
            </a>
          ))}
        </div>
      </section>
      
      <footer class="pt-24 pb-12 border-t border-black/10 dark:border-white/10 mt-20">
        <div class="flex justify-between items-center text-[10px] font-mono text-neutral-500 uppercase tracking-widest">
          <span></span>
          <span></span>
        </div>
      </footer>
    </div>
  </Container>
</Layout>